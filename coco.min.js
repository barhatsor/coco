/*
 * coco - CSS Orientation Controls
 * By Bar Hatsor (MIT License)
 */

Element.prototype.coco=function(a){function b(){c.style.transform="translateX("+j+"px) translateY("+k+"px) translateZ("+l+"px) rotateY("+g+"deg) "+m}var c=this,d=!1,f=!1,g=0,h=0,i=0,j=0,k=0,l=0,m=window.getComputedStyle(c).transform;if("none"==m&&(m=""),!1!=a){function a(a){h="touchstart"===a.type?a.touches[0].clientX-i:a.clientX-i,d=!0,f=!0}function e(){h=g,i=g,d=!1,!0==f&&c.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function k(a){d&&(a.preventDefault(),g="touchmove"===a.type?a.touches[0].clientX-h:a.clientX-h,i=g,b(),f=!1)}function m(a){"38"==a.keyCode||"87"==a.keyCode?l+=3:"40"==a.keyCode||"83"==a.keyCode?l-=3:"37"==a.keyCode||"65"==a.keyCode?j++:("39"==a.keyCode||"68"==a.keyCode)&&j--,b()}c.style.pointerEvents="none",document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",e,!1),document.addEventListener("mousemove",k,!1),document.addEventListener("keydown",m,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",e,!1),document.addEventListener("touchmove",k,!1)}return{camera:function(a,c,d){j=a,k=c,l=d,b()}}},NodeList.prototype.coco=function(a){function b(){for(var a=0;a<c.length;a++)c[a].style.transform="translateX("+k+"px) translateY("+l+"px) translateZ("+m+"px) rotateY("+g+"deg) "+n[a]}for(var c=this,d=!1,f=!1,g=0,h=0,j=0,k=0,l=0,m=0,n=[],o=0;o<c.length;o++)n.push(window.getComputedStyle(c[o]).transform),"none"==n[o]&&(n[o]="");if(!1!=a){function a(a){h="touchstart"===a.type?a.touches[0].clientX-j:a.clientX-j,d=!0,f=!0}function e(){if(h=g,j=g,d=!1,!0==f)for(var a=0;a<c.length;a++)c[a].dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function i(a){d&&(a.preventDefault(),g="touchmove"===a.type?a.touches[0].clientX-h:a.clientX-h,j=g,b(),f=!1)}function l(a){"38"==a.keyCode||"87"==a.keyCode?m+=3:"40"==a.keyCode||"83"==a.keyCode?m-=3:"37"==a.keyCode||"65"==a.keyCode?k++:("39"==a.keyCode||"68"==a.keyCode)&&k--,b()}for(var o=0;o<c.length;o++)c[o].style.pointerEvents="none";document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",e,!1),document.addEventListener("mousemove",i,!1),document.addEventListener("keydown",l,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",e,!1),document.addEventListener("touchmove",i,!1)}return{camera:function(a,c,d){k=a,l=c,m=d,b()}}};