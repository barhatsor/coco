/*
 * coco - CSS Orientation Controls
 * By Bar Hatsor (MIT License)
 */

Element.prototype.coco=function(){function a(a){k="touchstart"===a.type?a.touches[0].clientX-l:a.clientX-l,h=!0,i=!0}function b(){k=j,l=j,h=!1,!0==i&&g.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function c(a){h&&(a.preventDefault(),j="touchmove"===a.type?a.touches[0].clientX-k:a.clientX-k,l=j,f(),i=!1)}function d(a){"38"==a.keyCode||"87"==a.keyCode?o+=3:"40"==a.keyCode||"83"==a.keyCode?o-=3:"37"==a.keyCode||"65"==a.keyCode?m++:("39"==a.keyCode||"68"==a.keyCode)&&m--,f()}function f(){g.style.transform="translateX("+m+"px) translateY("+n+"px) translateZ("+o+"px) rotateY("+j+"deg) "+p}var g=this,h=!1,i=!1,j=0,k=0,l=0,m=0,n=0,o=0,p=window.getComputedStyle(g).transform;return"none"==p&&(p=""),g.style.pointerEvents="none",document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",c,!1),document.addEventListener("keydown",d,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",b,!1),document.addEventListener("touchmove",c,!1),{camera:function(a,b,c){m=a,n=b,o=c,f()}}},NodeList.prototype.coco=function(){function a(a){l="touchstart"===a.type?a.touches[0].clientX-m:a.clientX-m,h=!0,j=!0}function b(){if(l=k,m=k,h=!1,!0==j)for(var a=0;a<g.length;a++)g[a].dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function c(a){h&&(a.preventDefault(),k="touchmove"===a.type?a.touches[0].clientX-l:a.clientX-l,m=k,f(),j=!1)}function d(a){"38"==a.keyCode||"87"==a.keyCode?p+=3:"40"==a.keyCode||"83"==a.keyCode?p-=3:"37"==a.keyCode||"65"==a.keyCode?n++:("39"==a.keyCode||"68"==a.keyCode)&&n--,f()}function f(){for(var a=0;a<g.length;a++)g[a].style.transform="translateX("+n+"px) translateY("+o+"px) translateZ("+p+"px) rotateY("+k+"deg) "+q[a]}for(var g=this,h=!1,j=!1,k=0,l=0,m=0,n=0,o=0,p=0,q=[],r=0;r<g.length;r++)g[r].style.pointerEvents="none",q.push(window.getComputedStyle(g[r]).transform),"none"==q[r]&&(q[r]="");return document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",c,!1),document.addEventListener("keydown",d,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",b,!1),document.addEventListener("touchmove",c,!1),{camera:function(a,b,c){n=a,o=b,p=c,f()}}};
